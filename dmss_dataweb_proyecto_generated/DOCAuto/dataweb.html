<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Documentacion para dataweb</title>
    <meta name="description" content="dataweb/ Documentation">
</head>

<body>
    <span style="font-family: calibri; color: black">
    
    <!-- MetainformaciÃ³n del paquete -->
	            <p>Author : Sergio Terrazas Lobato y Javier Costillo Palacios</p>

    <p><img src="dataweb.svg" border="1" alt="dataweb" height="400"/></p>
    <p>Name: dataweb</p>
    <p>NS Prefix: dataweb</p>
    <p>NS URI: http://www.example.org/dataweb</p>

    <!-- Clases -->

        <span style="background-color: Gold; font-family: calibri;">
            EClass: Aplicacion
        </span>
        
        <br/>

        <p>Description : 
            
        </p>
        <!-- Atributos -->
            <ul>
                <li>(0..1) 
                    <b>Nombre</b> : EString 
                     
                </li>
                <li>(0..1) 
                    <b>Descripcion</b> : EString 
                     
                </li>
                <li>(1..1) 
                    <b>paginasMediasAccesibles</b> : EInt 
                     
                </li>
            </ul>
        <!-- Referencias -->
            <ul>
                <li>(1..*) 
                    <b>roles</b>
                    
                     : Rol
                     (composition)
                </li>
                <li>(0..*) 
                    <b>redessociales</b>
                    
                     : RedSocial
                     (composition)
                </li>
                <li>(1..*) 
                    <b>paginapantallas</b>
                    
                     : PaginaPantalla
                     (composition)
                </li>
                <li>(0..*) 
                    <b>basedatos</b>
                    
                     : BaseDatos
                     (composition)
                </li>
            </ul>
        <!-- Invariantes -->
            <ul>
                <li>invariant <b>R01_index_unico</b> :
                    <span style="font-style: italic; color: blue; font-family: calibri;">
                        
    	paginapantallas->select(p | p.oclIsTypeOf(Index))->size() = 1
                    </span>
                </li>
                <li>invariant <b>R04_fuentes_externas_minimas</b> :
                    <span style="font-style: italic; color: blue; font-family: calibri;">
                        
	    redessociales->size() >= 1 
                    </span>
                </li>
                <li>invariant <b>R06b_encuesta_y_cuestionario</b> :
                    <span style="font-style: italic; color: blue; font-family: calibri;">
                        
	    paginapantallas->exists(p | p.oclIsTypeOf(Encuesta)) and
	    paginapantallas->exists(p | p.oclIsTypeOf(Cuestionario))
                    </span>
                </li>
            </ul>


        <span style="background-color: Gold; font-family: calibri;">
            EClass: BaseDatos
        </span>
        
        <br/>

        <p>Description : 
            
        </p>
        <!-- Atributos -->
            <ul>
                <li>(0..1) 
                    <b>Nombre</b> : EString 
                     
                </li>
            </ul>
        <!-- Referencias -->
            <ul>
                <li>(1..*) 
                    <b>tablas</b>
                    
                     : Entidad
                     (composition)
                </li>
            </ul>
        <!-- Invariantes -->


        <span style="background-color: Gold; font-family: calibri;">
            EClass: Entidad
        </span>
        
        <br/>

        <p>Description : 
            
        </p>
        <!-- Atributos -->
            <ul>
                <li>(0..1) 
                    <b>Nombre</b> : EString 
                     
                </li>
            </ul>
        <!-- Referencias -->
            <ul>
                <li>(1..*) 
                    <b>atributos</b>
                    
                     : Atributo
                     (composition)
                </li>
                <li>(0..*) 
                    <b>entidadRefereenciada</b>
                    
                     : Entidad
                    
                </li>
                <li>(1..*) 
                    <b>usuarios</b>
                    #entidades
                     : Rol
                    
                </li>
            </ul>
        <!-- Invariantes -->
            <ul>
                <li>invariant <b>R02_crud_no_combinado</b> :
                    <span style="font-style: italic; color: blue; font-family: calibri;">
                        
	    let pp = Aplicacion.allInstances()->any(true).paginapantallas->select(p | p.entidad = self) in
	    pp->exists(p | p.oclIsTypeOf(CRUD)) implies
	    pp->forAll(p | not (
	        p.oclIsTypeOf(IndiceEntidad) or
	        p.oclIsTypeOf(IndiceExtendido) or
	        p.oclIsTypeOf(IndiceDetalle) or
	        p.oclIsTypeOf(DetallesInstancia) or
	        p.oclIsTypeOf(CrearInstancia) or
	        p.oclIsTypeOf(ActualizacionInstancia) or
	        p.oclIsTypeOf(BorradoInstancia)
	    ))
                    </span>
                </li>
                <li>invariant <b>R03_indice_y_detalle_van_juntos</b> :
                    <span style="font-style: italic; color: blue; font-family: calibri;">
                        
	    let pp = Aplicacion.allInstances()->any(true).paginapantallas->select(p | p.entidad = self) in
	    (pp->exists(p | p.oclIsTypeOf(IndiceEntidad) or p.oclIsTypeOf(IndiceExtendido))) =
	    (pp->exists(p | p.oclIsTypeOf(DetallesInstancia)))
                    </span>
                </li>
                <li>invariant <b>R05_no_autorreferencia</b> :
                    <span style="font-style: italic; color: blue; font-family: calibri;">
                        
    	not entidadRefereenciada->includes(self)
                    </span>
                </li>
                <li>invariant <b>R06_no_referencia_inversa</b> :
                    <span style="font-style: italic; color: blue; font-family: calibri;">
                        
    	entidadRefereenciada->forAll(e | not e.entidadRefereenciada->includes(self))
                    </span>
                </li>
                <li>invariant <b>R08_indice_unico_por_entidad</b> :
                    <span style="font-style: italic; color: blue; font-family: calibri;">
                        
	    Aplicacion.allInstances()->any(true).paginapantallas
	      ->select(p | p.entidad = self and p.oclIsTypeOf(IndiceEntidad))->size() <= 1
                    </span>
                </li>
            </ul>


        <span style="background-color: Gold; font-family: calibri;">
            EClass: Atributo
        </span>
        
        <br/>

        <p>Description : 
            
        </p>
        <!-- Atributos -->
            <ul>
                <li>(0..1) 
                    <b>Nombre</b> : EString 
                     
                </li>
                <li>(0..1) 
                    <b>TipoAtributo</b> : TipoAtributo 
                     
                </li>
                <li>(1..1) 
                    <b>PrimaryKey</b> : EBoolean 
                     
                </li>
            </ul>
        <!-- Referencias -->
        <!-- Invariantes -->


        <span style="background-color: Gold; font-family: calibri;">
            EClass: CrearInstancia
        </span>
        
        <br/>

        <p>Description : 
            
        </p>
        <!-- Atributos -->
            <ul>
                <li>(0..1) 
                    <b>Nombre</b> : EString 
                     
                </li>
            </ul>
        <!-- Referencias -->
            <ul>
                <li>(1..*) 
                    <b>usuario</b>
                    #accesoapaginapantalla
                     : Rol
                    
                </li>
                <li>(0..*) 
                    <b>redsocial</b>
                    #paginapantalla
                     : RedSocial
                    
                </li>
                <li>(1..1) 
                    <b>entidad</b>
                    
                     : Entidad
                    
                </li>
            </ul>
        <!-- Invariantes -->


        <span style="background-color: Gold; font-family: calibri;">
            EClass: IndiceExtendido
        </span>
        
        <br/>

        <p>Description : 
            
        </p>
        <!-- Atributos -->
            <ul>
                <li>(0..1) 
                    <b>Nombre</b> : EString 
                     
                </li>
                <li>(0..1) 
                    <b>Atributos</b> : EString 
                     
                </li>
            </ul>
        <!-- Referencias -->
            <ul>
                <li>(1..*) 
                    <b>usuario</b>
                    #accesoapaginapantalla
                     : Rol
                    
                </li>
                <li>(0..*) 
                    <b>redsocial</b>
                    #paginapantalla
                     : RedSocial
                    
                </li>
                <li>(1..1) 
                    <b>entidad</b>
                    
                     : Entidad
                    
                </li>
            </ul>
        <!-- Invariantes -->


        <span style="background-color: Gold; font-family: calibri;">
            EClass: DetallesInstancia
        </span>
        
        <br/>

        <p>Description : 
            
        </p>
        <!-- Atributos -->
            <ul>
                <li>(0..1) 
                    <b>Nombre</b> : EString 
                     
                </li>
            </ul>
        <!-- Referencias -->
            <ul>
                <li>(1..*) 
                    <b>usuario</b>
                    #accesoapaginapantalla
                     : Rol
                    
                </li>
                <li>(0..*) 
                    <b>redsocial</b>
                    #paginapantalla
                     : RedSocial
                    
                </li>
                <li>(1..1) 
                    <b>entidad</b>
                    
                     : Entidad
                    
                </li>
            </ul>
        <!-- Invariantes -->


        <span style="background-color: Gold; font-family: calibri;">
            EClass: ActualizacionInstancia
        </span>
        
        <br/>

        <p>Description : 
            
        </p>
        <!-- Atributos -->
            <ul>
                <li>(0..1) 
                    <b>Nombre</b> : EString 
                     
                </li>
            </ul>
        <!-- Referencias -->
            <ul>
                <li>(1..*) 
                    <b>usuario</b>
                    #accesoapaginapantalla
                     : Rol
                    
                </li>
                <li>(0..*) 
                    <b>redsocial</b>
                    #paginapantalla
                     : RedSocial
                    
                </li>
                <li>(1..1) 
                    <b>entidad</b>
                    
                     : Entidad
                    
                </li>
            </ul>
        <!-- Invariantes -->


        <span style="background-color: Gold; font-family: calibri;">
            EClass: IndiceEntidad
        </span>
        
        <br/>

        <p>Description : 
            
        </p>
        <!-- Atributos -->
            <ul>
                <li>(0..1) 
                    <b>Nombre</b> : EString 
                     
                </li>
                <li>(0..1) 
                    <b>Atributos</b> : EString 
                     
                </li>
            </ul>
        <!-- Referencias -->
            <ul>
                <li>(1..*) 
                    <b>usuario</b>
                    #accesoapaginapantalla
                     : Rol
                    
                </li>
                <li>(0..*) 
                    <b>redsocial</b>
                    #paginapantalla
                     : RedSocial
                    
                </li>
                <li>(1..1) 
                    <b>entidad</b>
                    
                     : Entidad
                    
                </li>
            </ul>
        <!-- Invariantes -->


        <span style="background-color: Gold; font-family: calibri;">
            EClass: IndiceDetalle
        </span>
        
        <br/>

        <p>Description : 
            
        </p>
        <!-- Atributos -->
            <ul>
                <li>(0..1) 
                    <b>Nombre</b> : EString 
                     
                </li>
                <li>(0..1) 
                    <b>Atributos</b> : EString 
                     
                </li>
            </ul>
        <!-- Referencias -->
            <ul>
                <li>(1..*) 
                    <b>usuario</b>
                    #accesoapaginapantalla
                     : Rol
                    
                </li>
                <li>(0..*) 
                    <b>redsocial</b>
                    #paginapantalla
                     : RedSocial
                    
                </li>
                <li>(1..1) 
                    <b>entidad</b>
                    
                     : Entidad
                    
                </li>
            </ul>
        <!-- Invariantes -->


        <span style="background-color: Gold; font-family: calibri;">
            EClass: BorradoInstancia
        </span>
        
        <br/>

        <p>Description : 
            
        </p>
        <!-- Atributos -->
            <ul>
                <li>(0..1) 
                    <b>Nombre</b> : EString 
                     
                </li>
            </ul>
        <!-- Referencias -->
            <ul>
                <li>(1..*) 
                    <b>usuario</b>
                    #accesoapaginapantalla
                     : Rol
                    
                </li>
                <li>(0..*) 
                    <b>redsocial</b>
                    #paginapantalla
                     : RedSocial
                    
                </li>
                <li>(1..1) 
                    <b>entidad</b>
                    
                     : Entidad
                    
                </li>
            </ul>
        <!-- Invariantes -->


        <span style="background-color: Gold; font-family: calibri;">
            EClass: Cuestionario
        </span>
        
        <br/>

        <p>Description : 
            
        </p>
        <!-- Atributos -->
            <ul>
                <li>(0..1) 
                    <b>Nombre</b> : EString 
                     
                </li>
                <li>(0..1) 
                    <b>Descripcion</b> : EString 
                     
                </li>
                <li>(1..1) 
                    <b>Evaluado</b> : EBoolean 
                     
                </li>
                <li>(1..1) 
                    <b>numeroPregVF</b> : EInt 
                     
                </li>
                <li>(1..1) 
                    <b>numeroPregSelect</b> : EInt 
                     
                </li>
            </ul>
        <!-- Referencias -->
            <ul>
                <li>(1..*) 
                    <b>usuario</b>
                    #accesoapaginapantalla
                     : Rol
                    
                </li>
                <li>(0..*) 
                    <b>redsocial</b>
                    #paginapantalla
                     : RedSocial
                    
                </li>
                <li>(1..1) 
                    <b>entidad</b>
                    
                     : Entidad
                    
                </li>
                <li>(1..*) 
                    <b>preguntasC</b>
                    
                     : Pregunta
                     (composition)
                </li>
            </ul>
        <!-- Invariantes -->
            <ul>
                <li>invariant <b>R07a_cuestionario_preguntas_con_respuesta_correcta</b> :
                    <span style="font-style: italic; color: blue; font-family: calibri;">
                        
  preguntasC->forAll(p |
    if p.Tipo = TipoPregunta::V_F or p.Tipo = TipoPregunta::OpcionMultiple then
      not p.Rcorrecta.oclIsUndefined()
    else
      p.Rcorrecta.oclIsUndefined()
    endif
  )
                    </span>
                </li>
            </ul>


        <span style="background-color: Gold; font-family: calibri;">
            EClass: Pregunta
        </span>
        
        <br/>

        <p>Description : 
            
        </p>
        <!-- Atributos -->
            <ul>
                <li>(0..1) 
                    <b>Tipo</b> : TipoPregunta 
                     
                </li>
                <li>(0..1) 
                    <b>Texto</b> : EString 
                     
                </li>
            </ul>
        <!-- Referencias -->
            <ul>
                <li>(0..*) 
                    <b>respuestas</b>
                    
                     : Respuesta
                     (composition)
                </li>
                <li>(0..1) 
                    <b>Rcorrecta</b>
                    
                     : Respuesta
                    
                </li>
            </ul>
        <!-- Invariantes -->


        <span style="background-color: DarkGray; font-family: calibri;">
            EClass: DependienteDeEntidad
        </span>
         (abstract)
        <br/>

        <p>Description : 
            
        </p>
        <!-- Atributos -->
            <ul>
                <li>(0..1) 
                    <b>Nombre</b> : EString 
                     
                </li>
            </ul>
        <!-- Referencias -->
            <ul>
                <li>(1..*) 
                    <b>usuario</b>
                    #accesoapaginapantalla
                     : Rol
                    
                </li>
                <li>(0..*) 
                    <b>redsocial</b>
                    #paginapantalla
                     : RedSocial
                    
                </li>
                <li>(1..1) 
                    <b>entidad</b>
                    
                     : Entidad
                    
                </li>
            </ul>
        <!-- Invariantes -->


        <span style="background-color: Gold; font-family: calibri;">
            EClass: Normal
        </span>
        
        <br/>

        <p>Description : 
            
        </p>
        <!-- Atributos -->
            <ul>
                <li>(0..1) 
                    <b>Nombre</b> : EString 
                     
                </li>
                <li>(0..1) 
                    <b>Contenido</b> : EString 
                     
                </li>
            </ul>
        <!-- Referencias -->
            <ul>
                <li>(1..*) 
                    <b>usuario</b>
                    #accesoapaginapantalla
                     : Rol
                    
                </li>
                <li>(0..*) 
                    <b>redsocial</b>
                    #paginapantalla
                     : RedSocial
                    
                </li>
                <li>(1..1) 
                    <b>entidad</b>
                    
                     : Entidad
                    
                </li>
                <li>(0..*) 
                    <b>contenidomultimedia</b>
                    
                     : ContenidoMultimedia
                     (composition)
                </li>
            </ul>
        <!-- Invariantes -->


        <span style="background-color: Gold; font-family: calibri;">
            EClass: Encuesta
        </span>
        
        <br/>

        <p>Description : 
            
        </p>
        <!-- Atributos -->
            <ul>
                <li>(0..1) 
                    <b>Nombre</b> : EString 
                     
                </li>
                <li>(0..1) 
                    <b>Descripcion</b> : EString 
                     
                </li>
                <li>(1..1) 
                    <b>numeroPregVF</b> : EInt 
                     
                </li>
                <li>(1..1) 
                    <b>numeroPregSelect</b> : EInt 
                     
                </li>
            </ul>
        <!-- Referencias -->
            <ul>
                <li>(1..*) 
                    <b>usuario</b>
                    #accesoapaginapantalla
                     : Rol
                    
                </li>
                <li>(0..*) 
                    <b>redsocial</b>
                    #paginapantalla
                     : RedSocial
                    
                </li>
                <li>(1..1) 
                    <b>entidad</b>
                    
                     : Entidad
                    
                </li>
                <li>(1..*) 
                    <b>preguntasE</b>
                    
                     : Pregunta
                     (composition)
                </li>
            </ul>
        <!-- Invariantes -->
            <ul>
                <li>invariant <b>R07b_encuesta_sin_respuesta_correcta</b> :
                    <span style="font-style: italic; color: blue; font-family: calibri;">
                        
  preguntasE->forAll(p |
    p.Rcorrecta.oclIsUndefined()
  )
                    </span>
                </li>
            </ul>


        <span style="background-color: DarkGray; font-family: calibri;">
            EClass: Interactiva
        </span>
         (abstract)
        <br/>

        <p>Description : 
            
        </p>
        <!-- Atributos -->
            <ul>
                <li>(0..1) 
                    <b>Nombre</b> : EString 
                     
                </li>
                <li>(0..1) 
                    <b>Descripcion</b> : EString 
                     
                </li>
            </ul>
        <!-- Referencias -->
            <ul>
                <li>(1..*) 
                    <b>usuario</b>
                    #accesoapaginapantalla
                     : Rol
                    
                </li>
                <li>(0..*) 
                    <b>redsocial</b>
                    #paginapantalla
                     : RedSocial
                    
                </li>
                <li>(1..1) 
                    <b>entidad</b>
                    
                     : Entidad
                    
                </li>
            </ul>
        <!-- Invariantes -->


        <span style="background-color: Gold; font-family: calibri;">
            EClass: Respuesta
        </span>
        
        <br/>

        <p>Description : 
            
        </p>
        <!-- Atributos -->
            <ul>
                <li>(0..1) 
                    <b>Texto</b> : EString 
                     
                </li>
            </ul>
        <!-- Referencias -->
        <!-- Invariantes -->


        <span style="background-color: Gold; font-family: calibri;">
            EClass: Rol
        </span>
        
        <br/>

        <p>Description : 
            
        </p>
        <!-- Atributos -->
            <ul>
                <li>(0..1) 
                    <b>Nombre</b> : EString 
                     
                </li>
                <li>(1..1) 
                    <b>numeroEntidadesAccesibles</b> : EInt 
                     
 (derived) = 
                        <span style="font-style: italic; color: blue; font-family: calibri;">
                        
                        </span>
                </li>
            </ul>
        <!-- Referencias -->
            <ul>
                <li>(0..*) 
                    <b>entidades</b>
                    #usuarios
                     : Entidad
                    
                </li>
                <li>(0..*) 
                    <b>accesoapaginapantalla</b>
                    #usuario
                     : PaginaPantalla
                    
                </li>
            </ul>
        <!-- Invariantes -->


        <span style="background-color: Gold; font-family: calibri;">
            EClass: RedSocial
        </span>
        
        <br/>

        <p>Description : 
            
        </p>
        <!-- Atributos -->
            <ul>
                <li>(0..1) 
                    <b>Nombre</b> : EString 
                     
                </li>
            </ul>
        <!-- Referencias -->
            <ul>
                <li>(0..*) 
                    <b>paginapantalla</b>
                    #redsocial
                     : PaginaPantalla
                    
                </li>
            </ul>
        <!-- Invariantes -->


        <span style="background-color: DarkGray; font-family: calibri;">
            EClass: Indice
        </span>
         (abstract)
        <br/>

        <p>Description : 
            
        </p>
        <!-- Atributos -->
            <ul>
                <li>(0..1) 
                    <b>Nombre</b> : EString 
                     
                </li>
                <li>(0..1) 
                    <b>Atributos</b> : EString 
                     
                </li>
            </ul>
        <!-- Referencias -->
            <ul>
                <li>(1..*) 
                    <b>usuario</b>
                    #accesoapaginapantalla
                     : Rol
                    
                </li>
                <li>(0..*) 
                    <b>redsocial</b>
                    #paginapantalla
                     : RedSocial
                    
                </li>
                <li>(1..1) 
                    <b>entidad</b>
                    
                     : Entidad
                    
                </li>
            </ul>
        <!-- Invariantes -->
            <ul>
                <li>invariant <b>R09_atributos_en_indice_pertenecen_a_entidad</b> :
                    <span style="font-style: italic; color: blue; font-family: calibri;">
                        
    	Atributos->forAll(a | self.entidad.atributos->exists(at | at.Nombre = a))
                    </span>
                </li>
            </ul>


        <span style="background-color: Gold; font-family: calibri;">
            EClass: ContenidoMultimedia
        </span>
        
        <br/>

        <p>Description : 
            
        </p>
        <!-- Atributos -->
            <ul>
                <li>(0..1) 
                    <b>Tipo</b> : EString 
                     
                </li>
            </ul>
        <!-- Referencias -->
        <!-- Invariantes -->


        <span style="background-color: DarkGray; font-family: calibri;">
            EClass: PaginaPantalla
        </span>
         (abstract)
        <br/>

        <p>Description : 
            
        </p>
        <!-- Atributos -->
            <ul>
                <li>(0..1) 
                    <b>Nombre</b> : EString 
                     
                </li>
            </ul>
        <!-- Referencias -->
            <ul>
                <li>(1..*) 
                    <b>usuario</b>
                    #accesoapaginapantalla
                     : Rol
                    
                </li>
                <li>(0..*) 
                    <b>redsocial</b>
                    #paginapantalla
                     : RedSocial
                    
                </li>
                <li>(1..1) 
                    <b>entidad</b>
                    
                     : Entidad
                    
                </li>
            </ul>
        <!-- Invariantes -->


        <span style="background-color: Gold; font-family: calibri;">
            EClass: Index
        </span>
        
        <br/>

        <p>Description : 
            
        </p>
        <!-- Atributos -->
            <ul>
                <li>(0..1) 
                    <b>Nombre</b> : EString 
                     
                </li>
            </ul>
        <!-- Referencias -->
            <ul>
                <li>(1..*) 
                    <b>usuario</b>
                    #accesoapaginapantalla
                     : Rol
                    
                </li>
                <li>(0..*) 
                    <b>redsocial</b>
                    #paginapantalla
                     : RedSocial
                    
                </li>
                <li>(1..1) 
                    <b>entidad</b>
                    
                     : Entidad
                    
                </li>
            </ul>
        <!-- Invariantes -->


        <span style="background-color: Gold; font-family: calibri;">
            EClass: CRUD
        </span>
        
        <br/>

        <p>Description : 
            
        </p>
        <!-- Atributos -->
            <ul>
                <li>(0..1) 
                    <b>Nombre</b> : EString 
                     
                </li>
            </ul>
        <!-- Referencias -->
            <ul>
                <li>(1..*) 
                    <b>usuario</b>
                    #accesoapaginapantalla
                     : Rol
                    
                </li>
                <li>(0..*) 
                    <b>redsocial</b>
                    #paginapantalla
                     : RedSocial
                    
                </li>
                <li>(1..1) 
                    <b>entidad</b>
                    
                     : Entidad
                    
                </li>
            </ul>
        <!-- Invariantes -->

    <!-- Enumeraciones -->
        <p style="background-color: #66CC66; font-family: calibri;">
            EEnum: TipoPregunta = {
                0: OpcionMultiple
,                 1: V_F
,                 2: Corta
            }
        </p>
        <p style="background-color: #66CC66; font-family: calibri;">
            EEnum: TipoAtributo = {
                0: Integer
,                 1: Boolean
,                 2: String
            }
        </p>

    </span>
</body>
</html>
